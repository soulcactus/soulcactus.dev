---
title: 'Redux 사용기(Feat. Anti-Redux)'
date: 2020-7-22 01:00:10
category: 'react'
draft: false
---

![](./images/redux-react.png)

## 🌵 근황

오랜만의 포스팅이라 뭔가 근황이라도 주절거려야 할 것 같은 기분에 첫 소제목을 근황이라고 붙여봤습니다. 리덕스 사용기와 리덕스에 대한 제 단상이 궁금하신 분이라면 요 파트는 건너 뛰시는 게 좋습니다. Feat에 안티 리덕스라고 다소 어그로성의 드립도 쳐봤지만, 이 글은 *멀쩡하고 좋은 도구인 리덕스*를 그렇지 않게 쓴 저의 *막장 삽질기*에 가깝습니다. 직접적으로 안티 패턴 코드를 보여드리는 것은 아니라서 그런 글을 기대하고 들어오신 분은 이 포스트를 스킵하는 것이 시간 절약에 이롭습니다.

간만에 블로그 프로젝트를 열었더니 4월 27일에 잠시 끄적거리고 배포하지 않은 Notion 사용기가 먼저 보였습니다. 도입부만 적고 놔둬서 Notion에 대해 어떤 이야기를 하려고 포스팅을 시작했는지 모르겠으나, **그때는 맞고 지금은 틀리다**는 것이 노션에 대한 현재 평가입니다. 요즘 ~~느려터진~~ 일렉트론 앱들에 대해 불편함을 느끼고 있어서... 암튼 쓰기 시작한 것이니 노션 사용기도 조만간 마무리 해서 올릴 수 있도록 해야 겠습니다. 바쁘다는 핑계로 블로그 관리에 너무 소홀했습니다. 사실 바쁠 때만큼 블로그 포스팅 거리가 넘쳐나는 때도 없는데 말이죠. 그나저나 2분기 회고는 어디로...? 😅 포스팅할 때마다 항상 반성하기 바쁩니다만, 어쨌든 저는 대충(?) 잘 살아 있습니다.

## 📝 사용기

현재 저는 소속된 곳에서 프로토타입~~이지만 어떻게든 굴러가고 있는;;~~ 프로젝트를 유지 보수하면서 NextJS를 이용해 새로 만들고 있습니다. Redux 외에도 Redux-saga를 이용해 개발하고 ~~있고~~있었고, 선호했던 sass 대신 Styled-components를 사용하고 있고, 그 외에도 여러가지 환경을 도입해 개발하고 있습니다. 초기 설정부터 전부 제가 도입한 환경입니다. 회사 프로젝트에 도입하기 전, 리덕스는 개인적으로 연습 겸 몇 번 사용해 본 경험이 있었습니다. 리덕스를 도입해야 할 이유가 있는 프로젝트가 아니라 오로지 리덕스를 학습하기 위해 일부러 갖다 붙인 프로젝트들이었습니다. 그 정도 경험을 가지고 있는 제가 초기 개발 환경을 설정할 때부터 리덕스를 선택한 것이죠.

_왜?_

지금 생각해 보면 너무나 어처구니가 없는 일이지만, '왜?'라는 고민을 거의 하지 않고 도입한 환경입니다. 규모가 있는 프로젝트에 적합하다고 하니 일단 사용하다 보면 아 이래서 쓰는 거구나 느낄 수 있을 거라고 생각했습니다. 그밖에도 그냥 다운로드 수가 많으니까, 사용자가 많으면 자료도 많겠지, 다들 쓰는 데는 이유가 있겠지 식의 안일한 생각에서였습니다.

_그래서 어떻게?_

가능한 모든 **데이터**와 많은 **상태**를 스토어에 넣고, 언젠가는 사용하겠지 하는 식으로(...) 작업을 시작했고, 스토어에 뭔가를 추가할 때마다 작성해야 하는 보일러플레이트에 고통 받고, 기하급수적으로 불어나는 보일러플레이트와 스토어의 **데이터**와 **상태**를 보면서 아 이건 좀 아니구나 싶었습니다. 제가 **데이터**와 **상태**에 강조 표시를 한 까닭은 **데이터**와 **상태**를 거의 구분하지 않고 무분별하게 스토어에 넣으려 했기 때문인데요, 그 마저도 제대로 된 정규화를 거치지 않은 채였습니다. 스토어는 그야말로 무법지대였죠.

리덕스 공식 홈페이지에서는 리덕스를 아래와 같이 설명하고 있습니다.

####

> Redux is a predictable state container for JavaScript apps.

####

저는 리덕스를 *예측 가능한 상태 컨테이너*로서 사용하지 않았던 겁니다. _언젠간_ 쓰일 줄 알았던 상태들은 사실 그저 서버에서 데이터를 받아와 캐싱해 두는 것에 지나지 않았고, 프로젝트를 설정할 때의 제 생각과는 달리, 전역적으로 사용되는 상태는 손에 꼽을 수 있을 만큼 그 수가 많지 않았습니다. "props를 여러번 내리 꽂기 귀찮아!"라는 용도로 쓰기에도 사실 개발 생산적인 측면에서 불편한 점이 한두 가지가 아니었죠.

####

> _섣부른 최적화는 모든 악의 근원이다. - 도널드 커누스(Donald E. Knuth)_

####

요즘 자주 되새기는 문구입니다. 언제쯤 삽질 아닌 삽질이 아닌, 삽질 같은 삽질을 할 수 있을까요?

## 💬 마치며

뒤늦게 판단 미스를 깨닫고 지옥의 리팩토링을 경험하고 있습니다. 리덕스 로직들을 제거하면서 SRW을 도입했습니다. 프로젝트를 진행하면서 다시 리덕스를 사용할 일이 발생할 수는 있겠지만, 결과적으로는 시간을 낭비했다는 점에서 프로젝트에 상당한 누를 끼쳤다고 볼 수 있겠습니다. 앞으로는 프로젝트 성격을 이해하고 적당한 툴을 도입하는 것에 대해서도 깊은 고민을 해 봐야할 것 같습니다. 회사 프로젝트는 연습장이 아닌 엄연한 제품이고, 회사는 교육기관 아니니까요. 😓
